---
interface Alt { lang: string; url: string }

const {
  lang = "th",
  showLinks = true,
  alternates = [] as Alt[],
} = Astro.props as {
  lang?: "th" | "en";
  showLinks?: boolean;
  alternates?: Alt[];
};

function altUrl(target: "th" | "en") {
  const found = alternates.find((a) => a.lang.toLowerCase() === target);
  if (found?.url) return found.url;
  return `/${target}`;
}

const T = (en: string, th: string) => (lang === "en" ? en : th);
---
<nav class="sticky top-4 z-50 bg-white mb-[50px] rounded-[40px] shadow-md max-w-[1473px] mx-auto overflow-hidden">
  <div class="mx-auto w-full px-4 sm:px-6 lg:px-8">
    <!-- ใช้ relative + absolute center -->
    <div class="relative bg-white h-16 flex items-center shadow-none ring-0 border-none outline-none
                pl-6 sm:pl-8 pr-[100px]">

      <!-- ซ้าย: โลโก้ ชิดซ้าย -->
      <a href={`/${lang}`} class="flex items-center gap-2 shrink-0 hover:opacity-90">
        <img src="/favicon.png" alt="Bederly" class="h-12 md:h-14 w-auto object-contain" />
      </a>

      <!-- กลาง: เมนู (กึ่งกลางด้วย absolute + translate) -->
      {showLinks && (
        <ul class="hidden lg:flex absolute left-1/2 -translate-x-1/2 items-center gap-8 xl:gap-10 font-medium whitespace-nowrap">
          <li><a href={`/${lang}`}   class="nav-link no-underline hover:no-underline focus:no-underline active:no-underline">{T("Home","หน้าหลัก")}</a></li>
          <li><a href="#innovations" class="nav-link no-underline hover:no-underline focus:no-underline active:no-underline">{T("Our Innovations","นวัตกรรมของเรา")}</a></li>
          <li><a href="#services"    class="nav-link no-underline hover:no-underline focus:no-underline active:no-underline">{T("Our Services","บริการของเรา")}</a></li>
          <li><a href="#moreinfo"    class="nav-link no-underline hover:no-underline focus:no-underline active:no-underline">{T("More Info","ข้อมูลเพิ่มเติม")}</a></li>
          <li><a href="#about"       class="nav-link no-underline hover:no-underline focus:no-underline active:no-underline">{T("About Us","เกี่ยวกับเรา")}</a></li>
          <li><a href="#footer"      class="nav-link no-underline hover:no-underline focus:no-underline active:no-underline">{T("Contact","ติดต่อ")}</a></li>
        </ul>
      )}

      <!-- ขวา: เว้นที่สำหรับปุ่มภาษาแบบ fixed -->
      <div class="hidden lg:block ml-auto w-[100px] shrink-0"></div>
    </div>
  </div>
</nav>


<script>
  // ถ้ามีปุ่ม/เมนูมือถือค่อยใช้งาน; ตอนนี้ไม่มีจึงไม่จำเป็นต้องทำอะไร
</script>

<style>
  :where(section[id]) { scroll-margin-top: 120px; }
  @media (min-width: 1024px) { :where(section[id]) { scroll-margin-top: 140px; } }

  nav, nav * { box-shadow: none !important; filter: none !important; border: none !important; outline: none !important; }
  nav { background-color: #ffffff !important; }

  /* KILL underline ทุกกรณี */
  nav .nav-link,
  nav .nav-link:hover,
  nav .nav-link:focus,
  nav .nav-link:active,
  nav .nav-link:visited {
    text-decoration: none !important;
    border-bottom: 0 !important;
    background-image: none !important;
    box-shadow: none !important;
    outline: none !important;
  }
  nav .nav-link::after,
  nav .nav-link::before,
  nav a::after,
  nav a::before {
    content: none !important;
    display: none !important;
  }

  nav a:focus, nav a:active { outline: none !important; box-shadow: none !important; }

  .nav-link { color: #00D2E6 !important; transition: color 0.25s ease; }
  .nav-link:hover { color: #585858 !important; }

  nav.sticky {
  /* ลดความยาวขวาประมาณ 40px */
    clip-path: inset(0 150px 0 0 round 40px);
  }
</style>
