@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============== Base Styles ============== */
@layer base {
  * {
    transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 200ms;
  }

  html {
    scroll-behavior: smooth;
    font-feature-settings: 'cv11', 'ss01';
    text-rendering: optimizeLegibility;
  }

  body {
    /* ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å Inter ‡πÄ‡∏õ‡πá‡∏ô Noto Sans Thai */
    font-family: 'Noto Sans Thai', 'Noto Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    line-height: 1.6;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

/* ============== Component Styles ============== */
@layer components {
  /* === EXPANDED CONTAINER SYSTEM === */
  /* ‡∏Ç‡∏¢‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏•‡∏î padding ‡∏ó‡∏∏‡∏Å section */
  .container-primary {
    @apply mx-auto px-2 sm:px-4 lg:px-6;
    max-width: 1800px; /* ‡∏Ç‡∏¢‡∏≤‡∏¢‡∏à‡∏≤‡∏Å 1236px ‡πÄ‡∏õ‡πá‡∏ô 1400px */
  }

  /* Container ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏Ñ‡∏ö‡∏Å‡∏ß‡πà‡∏≤ */
  .container-narrow {
    @apply mx-auto px-2 sm:px-4 lg:px-6;
    max-width: 1400px;
  }

  /* Container ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏°‡∏≤‡∏Å */
  .container-wide {
    @apply mx-auto px-2 sm:px-4 lg:px-6;
    max-width: 2000px;
  }

  /* Gradient text utilities */
  .text-gradient-primary {
    @apply bg-gradient-to-r from-cyan-500 to-blue-600 bg-clip-text text-transparent;
  }

  .text-gradient-secondary {
    @apply bg-gradient-to-r from-blue-500 to-indigo-600 bg-clip-text text-transparent;
  }

  /* Background gradients */
  .bg-gradient-primary {
    @apply bg-gradient-to-br from-sky-400 via-blue-500 to-cyan-400;
  }

  .bg-gradient-secondary {
    @apply bg-gradient-to-r from-cyan-500 to-blue-600;
  }

  .bg-gradient-card {
    @apply bg-gradient-to-br from-white to-blue-50/30;
  }

  /* Button styles */
  .btn-primary {
    @apply inline-flex items-center gap-3 bg-white text-blue-600 px-8 py-4 rounded-full font-semibold text-lg hover:bg-gray-50 transition-all duration-300 hover:scale-105 shadow-lg hover:shadow-xl;
  }

  .btn-secondary {
    @apply inline-flex items-center gap-3 bg-gradient-to-r from-cyan-500 to-blue-600 text-white px-8 py-4 rounded-full font-semibold text-lg hover:from-cyan-600 hover:to-blue-700 transition-all duration-300 hover:scale-105 shadow-lg hover:shadow-xl;
  }

  /* Card styles - ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ 'group' ‡πÉ‡∏ô @apply */
  .card-primary {
    @apply bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden;
  }

  .card-feature {
    @apply bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105;
  }

  .card-hero {
    @apply bg-gradient-to-br from-cyan-400 to-blue-500 rounded-3xl p-8 lg:p-12 text-white shadow-2xl;
  }

  /* Feature grid */
  .features-grid {
    @apply grid md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8;
  }

  .features-grid-4 {
    @apply grid md:grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-8;
  }

  /* Navigation underline effect */
  .nav-link {
    @apply relative text-gray-700 hover:text-blue-600 transition-colors font-medium;
  }

  .nav-link::after {
    @apply absolute inset-x-0 -bottom-1 h-0.5 bg-blue-600 scale-x-0 transition-transform duration-200;
    content: '';
  }

  .nav-link:hover::after {
    @apply scale-x-100;
  }

  /* Section spacing */
  .section-padding {
    @apply py-16 lg:py-20;
  }

  .section-padding-sm {
    @apply py-12 lg:py-16;
  }

  .section-padding-lg {
    @apply py-20 lg:py-32;
  }

  /* === Card & Section System (global) === */
  /* ‡∏Å‡∏£‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏ô‡πâ‡∏≤ */
  .card-frame {
    @apply relative overflow-hidden rounded-3xl bg-white shadow-lg hover:shadow-xl transition-all;
  }

  /* ‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏£‡∏π‡∏õ (‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö hero / banner) */
  .card-bg {
    @apply card-frame;
  }

  /* ‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞ section ‡πÉ‡∏´‡πâ‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏ô‡πâ‡∏≤ */
  .section-stack {
    @apply space-y-8 md:space-y-10 lg:space-y-12;
  }

  /* padding ‡∏î‡πâ‡∏≤‡∏ô‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÉ‡∏´‡πâ‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô */
  .card-pad {
    @apply p-6 md:p-8 lg:p-10;
  }

}

/* ============== Utility Classes ============== */
@layer utilities {
  /* Backdrop blur support */
  @supports (backdrop-filter: blur()) {
    .backdrop-blur-strong {
      backdrop-filter: blur(20px);
    }
    .backdrop-blur-medium {
      backdrop-filter: blur(12px);
    }
    .backdrop-blur-light {
      backdrop-filter: blur(6px);
    }
  }

  /* Hide scrollbars */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Glass effect */
  .glass {
    @apply bg-white/80 backdrop-blur-medium border border-white/20 shadow-lg;
  }

  .glass-dark {
    @apply bg-gray-900/80 backdrop-blur-medium border border-white/10 shadow-lg;
  }

  /* Text shadow utilities */
  .text-shadow {
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  }

  .text-shadow-md {
    text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.3);
  }

  .text-shadow-lg {
    text-shadow: 2px 2px 12px rgba(0, 0, 0, 0.5);
  }

  /* Aspect ratios */
  .aspect-card {
    aspect-ratio: 4 / 3;
  }

  .aspect-hero {
    aspect-ratio: 16 / 9;
  }

  .aspect-square {
    aspect-ratio: 1;
  }

  /* Image enhancement */
  .img-crisp {
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
  }

  .img-enhanced {
    filter: contrast(1.05) saturate(1.08) brightness(1.02);
  }

  /* Animation utilities */
  .animate-fade-in {
    animation: fadeIn 0.6s ease-out forwards;
  }

  .animate-slide-up {
    animation: slideUp 0.6s ease-out forwards;
  }

  .animate-float {
    animation: float 3s ease-in-out infinite;
  }

  /* Hover effects */
  .hover-lift {
    @apply hover:scale-105 hover:-translate-y-1 transition-all duration-300;
  }

  .hover-glow {
    @apply hover:shadow-2xl hover:shadow-blue-500/20 transition-all duration-300;
  }

  .h-hero-sm { @apply h-[260px] md:h-[320px] lg:h-[380px]; }
  .h-hero-md { @apply h-[340px] md:h-[420px] lg:h-[480px]; }
  .h-hero-lg { @apply h-[420px] md:h-[520px] lg:h-[620px]; }

  /* overlay ‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏†‡∏≤‡∏û */
  .overlay-dark { @apply absolute inset-0 bg-black/40; }
  .overlay-fade-b { @apply absolute inset-x-0 bottom-0 h-1/3 bg-gradient-to-b from-transparent to-black/35; }

  /* Font utilities ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Noto Sans Thai */
  .font-noto {
    font-family: 'Noto Sans Thai', 'Noto Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  }

  .font-noto-thai {
    font-family: 'Noto Sans Thai', sans-serif;
  }

  .font-noto-latin {
    font-family: 'Noto Sans', sans-serif;
  }
}

/* ============== Custom Group Effects (‡πÅ‡∏ó‡∏ô @apply group) ============== */
/* ‡πÉ‡∏ä‡πâ vanilla CSS selector ‡πÅ‡∏ó‡∏ô @apply group */
.group:hover .group-hover-scale {
  transform: scale(1.1);
}

.group:hover .group-hover-translate {
  transform: translateX(4px);
}

/* ============== Animations ============== */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(40px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes float {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-10px);
  }
}

/* ============== Responsive Design Enhancements ============== */
@media (max-width: 640px) {
  /* Mobile-first improvements */
  .min-h-screen {
    min-height: 100dvh; /* Dynamic viewport height for mobile */
  }
  
  .text-responsive {
    font-size: clamp(1rem, 4vw, 1.25rem);
  }
  
  .heading-responsive {
    font-size: clamp(1.75rem, 8vw, 3rem);
  }
  
  .hero-responsive {
    font-size: clamp(2rem, 10vw, 4rem);
  }
}

/* ============== Focus Management ============== */
@layer utilities {
  .focus-ring {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white rounded-lg;
  }

  .focus-ring-dark {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-offset-2 focus-visible:ring-offset-gray-900 rounded-lg;
  }
}

/* ============== Print Styles ============== */
@media print {
  .no-print {
    display: none !important;
  }
  
  .print-break-inside-avoid {
    break-inside: avoid;
  }
}

/* ============== Sharp Corners Override ============== */
@layer utilities {
  /* Apply sharp corners to specific elements only */
  div:not(button):not([role="button"]):not([aria-label*="logo"]),
  section,
  article,
  img:not([class*="rounded-full"]),
  .card-primary,
  .card-feature,
  .card-hero,
  nav > div,
  header,
  footer {
    border-radius: 0 !important;
  }
  
  /* Keep buttons and controls rounded */
  button,
  a[href*="#"],
  [role="button"],
  [aria-label="Previous"],
  [aria-label="Next"],
  [id*="btn"],
  [id*="prev"],
  [id*="next"] {
    border-radius: 9999px !important;
  }
  
  /* Keep slider dots rounded */
  [id*="dots"] button,
  button[data-slide] {
    border-radius: 9999px !important;
  }
  
  /* Keep badges/pills rounded */
  span[class*="rounded-full"],
  .badge,
  [class*="inline-block"][class*="rounded-full"] {
    border-radius: 9999px !important;
  }
}

/* ============== Mobile-Only Fixes ============== */
@media (max-width: 767.98px) {
  /* ‡∏Å‡∏±‡∏ô body ‡πÅ‡∏•‡∏∞ html ‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ã‡πâ‡∏≤‡∏¢-‡∏Ç‡∏ß‡∏≤ */
  html {
    overflow-x: hidden;
    max-width: 100vw;
  }

  body {
    overflow-x: hidden;
    max-width: 100vw;
    position: relative;
  }

  /* ‡∏Å‡∏±‡∏ô‡∏ó‡∏∏‡∏Å section ‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏•‡πâ‡∏ô */
  section {
    overflow-x: hidden !important;
    max-width: 100vw !important;
  }

  /* ‡∏Å‡∏±‡∏ô container ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î */
  .container-primary,
  .container-narrow,
  .container-wide {
    max-width: 100vw !important;
    overflow-x: hidden !important;
  }

  /* ‡∏Å‡∏±‡∏ô‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡πÄ‡∏Å‡∏¥‡∏ô‡∏à‡∏≠ */
  img {
    max-width: 100% !important;
    height: auto !important;
    object-fit: contain !important;
  }

  /* Hero Section - ‡∏Å‡∏±‡∏ô‡∏£‡∏π‡∏õ‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏•‡πâ‡∏ô */
  section.relative > .container-primary > .relative.overflow-hidden img {
    width: 100% !important;
    max-width: 100vw !important;
    object-fit: cover !important;
  }

  /* SmartBed Section - ‡∏õ‡∏£‡∏±‡∏ö‡∏£‡∏π‡∏õ background */
  #smartbed img {
    max-width: 100% !important;
    object-fit: cover !important;
  }

  /* Ecosystem Section - ‡∏Å‡∏±‡∏ô‡∏£‡∏π‡∏õ background */
  .eco-title {
    font-size: 1.5rem !important;
    line-height: 1.3 !important;
  }

  /* Download Section - ‡∏õ‡∏£‡∏±‡∏ö‡∏£‡∏π‡∏õ */
  #download img {
    max-width: 100% !important;
    height: auto !important;
    object-fit: contain !important;
  }

  /* ‡∏Å‡∏±‡∏ô gradient backgrounds ‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏•‡πâ‡∏ô */
  div[class*="bg-gradient"] {
    max-width: 100vw !important;
    overflow-x: hidden !important;
  }

  /* ‡∏õ‡∏£‡∏±‡∏ö padding ‡∏Ç‡∏≠‡∏á mobile ‡πÉ‡∏´‡πâ‡∏û‡∏≠‡∏î‡∏µ */
  .px-responsive {
    padding-left: 1rem !important;
    padding-right: 1rem !important;
  }

  /* Card ‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏•‡πâ‡∏ô */
  .card-frame,
  .card-bg,
  .card-primary,
  .card-feature,
  .card-hero {
    max-width: 100% !important;
    overflow: hidden !important;
  }

  /* Innovation cards */
  #innovations article {
    overflow: hidden !important;
  }

  #innovations img {
    max-width: 100% !important;
    width: 100% !important;
    height: auto !important;
  }

  /* Progress Slider */
  #progress-track {
    max-width: 100vw !important;
    overflow-x: auto !important;
  }

  /* Team Section */
  #team img {
    max-width: 100% !important;
    height: auto !important;
  }

  /* Partners logos */
  section[id*="partners"] img,
  #testimonials img {
    max-width: 100% !important;
    object-fit: contain !important;
  }
}

/* ============== Mobile-Only Fixes ============== */
@media (max-width: 767.98px) {
  /* ... ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ... */

  /* ========================================
     üéØ MOBILE CONSISTENCY: ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ó‡∏∏‡∏Å section ‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡πÄ‡∏ó‡πà‡∏≤ Hero
     ======================================== */
  
  /* ‡∏Å‡∏≥‡∏´‡∏ô‡∏î padding ‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏∏‡∏Å section container */
  section .container-primary,
  section .container-narrow,
  section .container-wide {
    padding-left: 0.5rem !important;  /* 8px - ‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ö hero */
    padding-right: 0.5rem !important; /* 8px - ‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ö hero */
    max-width: 100vw !important;
    overflow-x: hidden !important;
  }

  /* ‡∏Å‡∏≥‡∏´‡∏ô‡∏î max-width ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö section ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ container */
  section > div:not([class*="absolute"]):not([class*="fixed"]) {
    max-width: 100vw !important;
    overflow-x: hidden !important;
  }

  /* ‡∏õ‡∏£‡∏±‡∏ö nested containers ‡πÉ‡∏´‡πâ inherit padding */
  section .container-primary > *,
  section .container-narrow > *,
  section .container-wide > * {
    max-width: 100% !important;
  }

  /* ‡∏Å‡∏±‡∏ô special sections ‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏à‡∏°‡∏µ padding ‡πÄ‡∏û‡∏¥‡πà‡∏° */
  #smartbed .container-primary,
  #innovations .container-primary,
  #ecosystem .container-primary,
  #about .container-primary,
  #progress .container-primary,
  #team .container-primary,
  #testimonials .container-primary,
  #download .container-primary,
  #moreinfo .container-primary,
  #medip .container-primary,
  #footer .container-primary {
    padding-left: 0.5rem !important;
    padding-right: 0.5rem !important;
  }

  /* ‡∏õ‡∏£‡∏±‡∏ö grid gap ‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö padding ‡πÉ‡∏´‡∏°‡πà */
  section .grid {
    gap: 1rem !important; /* ‡∏•‡∏î gap ‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏î‡∏π‡∏™‡∏°‡∏î‡∏∏‡∏• */
  }

  /* Card margins - ‡πÉ‡∏´‡πâ‡∏ä‡∏¥‡∏î‡∏Ç‡∏≠‡∏ö‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô‡∏ó‡∏∏‡∏Å‡∏ó‡∏µ‡πà */
  section article,
  section .card-primary,
  section .card-feature,
  section .card-hero,
  section .card-frame {
    margin-left: 0 !important;
    margin-right: 0 !important;
  }

  /* ‡∏õ‡∏£‡∏±‡∏ö Download Section ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö hero */
  [data-slider] {
    padding-left: 0 !important;
    padding-right: 0 !important;
  }

  /* ‡∏õ‡∏£‡∏±‡∏ö Progress Slider track */
  #progress-track {
    padding-left: 0.5rem !important;
    padding-right: 0.5rem !important;
  }

  /* Footer alignment */
  footer .container {
    padding-left: 0.5rem !important;
    padding-right: 0.5rem !important;
  }

  /* Special case: Full-width sections ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ bleed */
  section.full-bleed .container-primary,
  .mobile-full-width {
    padding-left: 0 !important;
    padding-right: 0 !important;
  }

  /* Visual consistency: ‡πÉ‡∏´‡πâ‡∏ó‡∏∏‡∏Å section ‡∏°‡∏µ spacing ‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô */
  section {
    margin-bottom: 0 !important;
  }

  section + section {
    margin-top: 0 !important;
  }

  /* Ensure images respect container padding */
  section img:not([class*="absolute"]):not([class*="fixed"]) {
    max-width: calc(100vw - 1rem) !important; /* 100vw - (0.5rem √ó 2) */
    margin-left: auto !important;
    margin-right: auto !important;
  }
}