---
import "../styles/global.css";
import Navbar from "../components/Navbar.astro";

interface Alt { lang: string; url: string }

const {
  lang = "th",
  alternates = [] as Alt[],
  showNavLinks = true,
  showNav = true,
  title,
  description,
} = Astro.props as {
  lang?: "th" | "en";
  alternates?: Alt[];
  showNavLinks?: boolean;
  showNav?: boolean;
  title?: string;
  description?: string;
};

const defaultTitle = lang === "en" 
  ? "Smart Bed - Innovative Hospital Care Solutions"
  : "Smart Bed - นวัตกรรมการดูแลผู้ป่วย";

const defaultDescription = lang === "en"
  ? "Smart Bed provides innovative hospital bed solutions with advanced adjustment features for better patient care."
  : "Smart Bed นำเสนอนวัตกรรมเตียงผู้ป่วยอัจฉริยะ พร้อมฟีเจอร์ปรับท่าอัตโนมัติเพื่อการดูแลผู้ป่วยที่ดีขึ้น";
---

<!DOCTYPE html>
<html lang={lang} class="scroll-smooth">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <title>{title || defaultTitle}</title>
    <meta name="description" content={description || defaultDescription} />
    <link rel="icon" type="image/png" href="/favicon.png" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@300;400;500;600;700;800&family=Noto+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet" />

    {alternates.map((alt) => (<link rel="alternate" hreflang={alt.lang} href={alt.url} />))}
    <meta name="theme-color" content="#0891b2" />
  </head>
  
  <body class="font-noto bg-white text-gray-800 antialiased min-h-screen overflow-x-hidden">
    <!-- Navbar -->
    {showNav && (
      <Navbar 
        lang={lang} 
        showLinks={showNavLinks} 
        alternates={alternates} 
      />
    )}

    <main class="relative overflow-x-clip max-w-[100svw]">
      <slot />
    </main>
  </body>
</html>

<style>
  :where(section[id]) { scroll-margin-top: 88px; }
  @media (min-width: 1024px) { :where(section[id]) { scroll-margin-top: 96px; } }

  @media (max-width: 767.98px) {
    html, body { overflow-x: hidden !important; max-width: 100vw !important; }
    main, section { overflow-x: hidden !important; max-width: 100vw !important; }
  }
</style>
